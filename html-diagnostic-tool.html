<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HTMLæ˜¾ç¤ºé—®é¢˜è¯Šæ–­å·¥å…·</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            margin: 40px;
            line-height: 1.6;
            color: #333;
            background: #f5f5f5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
            border-bottom: 2px solid #666;
            padding-bottom: 10px;
            margin-top: 0;
        }
        h2 {
            color: #34495e;
            margin-top: 30px;
        }
        .section {
            margin: 20px 0;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 5px;
            background: #fafafa;
        }
        .code {
            background: #2d3748;
            color: #e2e8f0;
            padding: 15px;
            border-radius: 5px;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            overflow-x: auto;
            margin: 10px 0;
            font-size: 14px;
        }
        .warning {
            background: #fef5e7;
            border-color: #f6c23e;
            color: #856404;
        }
        .error {
            background: #f8d7da;
            border-color: #f5c6cb;
            color: #721c24;
        }
        .success {
            background: #d4edda;
            border-color: #c3e6cb;
            color: #155724;
        }
        .info {
            background: #d1ecf1;
            border-color: #bee5eb;
            color: #0c5460;
        }
        .diagnostic-btn {
            background: #666;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px 10px 10px 0;
        }
        .diagnostic-btn:hover {
            background: #555;
        }
        .result {
            margin-top: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 5px;
            border-left: 4px solid #666;
        }
        .step {
            margin: 15px 0;
        }
        .step-number {
            display: inline-block;
            background: #666;
            color: white;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            text-align: center;
            line-height: 25px;
            margin-right: 10px;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ” HTMLæ˜¾ç¤ºé—®é¢˜è¯Šæ–­å·¥å…·</h1>

        <div class="section info">
            <h2>ğŸ“‹ é—®é¢˜æè¿°</h2>
            <p>æŸäº›HTMLæ–‡ä»¶åœ¨R&D Reportæ¨¡å—ä¸­åªèƒ½æ˜¾ç¤ºèƒŒæ™¯ï¼Œæ— æ³•æ˜¾ç¤ºå†…å®¹ã€‚è¿™é€šå¸¸æ˜¯ç”±ä»¥ä¸‹åŸå› é€ æˆçš„ï¼š</p>
            <ul>
                <li>âœ… <strong>CSSæ ·å¼å†²çª</strong> - åŸHTMLçš„æ ·å¼è¢«è¦†ç›–</li>
                <li>âœ… <strong>å…ƒç´ éšè—</strong> - display:none æˆ– visibility:hidden</li>
                <li>âœ… <strong>JavaScripté—®é¢˜</strong> - è„šæœ¬æ‰§è¡Œå¤±è´¥</li>
                <li>âœ… <strong>èµ„æºè·¯å¾„é—®é¢˜</strong> - ç›¸å¯¹è·¯å¾„çš„CSS/JSæ— æ³•åŠ è½½</li>
                <li>âœ… <strong>iframeé™åˆ¶</strong> - æ²™ç®±å®‰å…¨ç­–ç•¥</li>
            </ul>
        </div>

        <div class="section">
            <h2>ğŸ› ï¸ è¯Šæ–­æ­¥éª¤</h2>

            <div class="step">
                <span class="step-number">1</span>
                <strong>æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·</strong>
                <p>æŒ‰ F12 æˆ–å³é”®é€‰æ‹©"æ£€æŸ¥å…ƒç´ "æ‰“å¼€å¼€å‘è€…å·¥å…·</p>
            </div>

            <div class="step">
                <span class="step-number">2</span>
                <strong>æŸ¥çœ‹Consoleæ ‡ç­¾é¡µ</strong>
                <p>æŸ¥çœ‹æ˜¯å¦æœ‰ä»¥ä¸‹ç±»å‹çš„é”™è¯¯ä¿¡æ¯ï¼š</p>
                <div class="code">
// CSSç›¸å…³é”™è¯¯
Failed to load resource: net::ERR_FILE_NOT_FOUND (style.css)

// JavaScripté”™è¯¯
Uncaught ReferenceError: $ is not defined

// æ§åˆ¶å°æ—¥å¿—
ğŸ” HTML Analysis: {hasHead: true, hasBody: true, ...}
ğŸ“„ Iframe loaded, setting up content...
</div>
            </div>

            <div class="step">
                <span class="step-number">3</span>
                <strong>æ£€æŸ¥Elementsæ ‡ç­¾é¡µ</strong>
                <p>åœ¨iframeä¸­æŸ¥æ‰¾bodyå…ƒç´ ï¼Œæ£€æŸ¥æ˜¯å¦æœ‰ä»¥ä¸‹é—®é¢˜ï¼š</p>
                <ul>
                    <li><code>display: none</code> - å…ƒç´ è¢«éšè—</li>
                    <li><code>visibility: hidden</code> - å…ƒç´ ä¸å¯è§</li>
                    <li><code>opacity: 0</code> - å…ƒç´ é€æ˜</li>
                    <li><code>position: fixed</code> - å®šä½é—®é¢˜</li>
                </ul>
            </div>

            <div class="step">
                <span class="step-number">4</span>
                <strong>æµ‹è¯•åŸå§‹HTMLæ–‡ä»¶</strong>
                <p>ç›´æ¥åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€åŸå§‹HTMLæ–‡ä»¶ï¼Œç¡®è®¤æ˜¯å¦æ­£å¸¸æ˜¾ç¤º</p>
            </div>
        </div>

        <div class="section success">
            <h2>âœ… å·²å®æ–½çš„ä¿®å¤</h2>
            <ul>
                <li><strong>å¢å¼ºçš„CSSé‡ç½®</strong> - å¼ºåˆ¶æ˜¾ç¤ºæ‰€æœ‰éšè—å…ƒç´ </li>
                <li><strong>iframeè°ƒè¯•ä¿¡æ¯</strong> - å³ä¸Šè§’æ˜¾ç¤ºHTMLå­—ç¬¦æ•°</li>
                <li><strong>å†…å®¹åˆ†æå·¥å…·</strong> - è‡ªåŠ¨åˆ†æHTMLç»“æ„</li>
                <li><strong>æ ·å¼è¦†ç›–</strong> - ä½¿ç”¨!importantå¼ºåˆ¶å¯è§æ€§</li>
                <li><strong>è·¯å¾„å¤„ç†</strong> - è­¦å‘Šç›¸å¯¹è·¯å¾„é—®é¢˜</li>
            </ul>
        </div>

        <div class="section warning">
            <h2>âš ï¸ å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ</h2>

            <h3>é—®é¢˜1: èƒŒæ™¯æ˜¾ç¤ºä½†å†…å®¹ä¸æ˜¾ç¤º</h3>
            <div class="code">
// å¯èƒ½åŸå› ï¼šCSSæ ·å¼éšè—äº†å†…å®¹
body { display: none; }
.content { visibility: hidden; }

// è§£å†³æ–¹æ¡ˆï¼šç³»ç»Ÿå·²è‡ªåŠ¨ä¿®å¤
[style*="display: none"] { display: block !important; }
</div>

            <h3>é—®é¢˜2: å¤–éƒ¨CSS/JSæ— æ³•åŠ è½½</h3>
            <div class="code">
// å¯èƒ½åŸå› ï¼šç›¸å¯¹è·¯å¾„åœ¨iframeä¸­æ— æ³•è§£æ
&lt;link href="css/style.css" rel="stylesheet"&gt;

// è§£å†³æ–¹æ¡ˆï¼šæ£€æŸ¥æ§åˆ¶å°è­¦å‘Šå¹¶ä¿®å¤è·¯å¾„
âš ï¸ Found relative CSS path, may not load correctly: css/style.css
</div>

            <h3>é—®é¢˜3: JavaScripté”™è¯¯</h3>
            <div class="code">
// å¯èƒ½åŸå› ï¼šjQueryç­‰åº“æœªåŠ è½½
Uncaught ReferenceError: $ is not defined

// è§£å†³æ–¹æ¡ˆï¼šæ£€æŸ¥å¹¶ä¿®å¤è„šæœ¬ä¾èµ–
</div>
        </div>

        <div class="section">
            <h2>ğŸ”§ æ‰‹åŠ¨è°ƒè¯•å·¥å…·</h2>
            <button class="diagnostic-btn" onclick="runDiagnostics()">è¿è¡Œè¯Šæ–­</button>
            <button class="diagnostic-btn" onclick="checkIframeContent()">æ£€æŸ¥iframeå†…å®¹</button>
            <button class="diagnostic-btn" onclick="forceContentVisibility()">å¼ºåˆ¶å†…å®¹å¯è§</button>

            <div id="diagnostic-result" class="result" style="display: none;">
                <h3>è¯Šæ–­ç»“æœï¼š</h3>
                <pre id="diagnostic-output"></pre>
            </div>
        </div>

        <div class="section error">
            <h2>ğŸš¨ å¦‚æœé—®é¢˜ä»ç„¶å­˜åœ¨</h2>
            <p>å¦‚æœæŒ‰ç…§ä¸Šè¿°æ­¥éª¤ä»ç„¶æ— æ³•è§£å†³é—®é¢˜ï¼Œè¯·æä¾›ä»¥ä¸‹ä¿¡æ¯ï¼š</p>
            <ol>
                <li>æµè§ˆå™¨æ§åˆ¶å°çš„å®Œæ•´é”™è¯¯ä¿¡æ¯</li>
                <li>Elementsæ ‡ç­¾é¡µä¸­iframeçš„HTMLç»“æ„</li>
                <li>åŸå§‹HTMLæ–‡ä»¶çš„å†…å®¹æ ·æœ¬ï¼ˆå‰100è¡Œï¼‰</li>
                <li>æ‚¨ä½¿ç”¨çš„æµè§ˆå™¨ç‰ˆæœ¬</li>
            </ol>
        </div>
    </div>

    <script>
        function runDiagnostics() {
            const result = document.getElementById('diagnostic-output');
            const container = document.getElementById('diagnostic-result');

            let output = 'ğŸ” HTMLæ˜¾ç¤ºé—®é¢˜è¯Šæ–­æŠ¥å‘Š\n';
            output += '================================\n\n';

            // æ£€æŸ¥æµè§ˆå™¨ä¿¡æ¯
            output += 'ğŸ“Š æµè§ˆå™¨ä¿¡æ¯:\n';
            output += `- User Agent: ${navigator.userAgent}\n`;
            output += `- Cookie Enabled: ${navigator.cookieEnabled}\n`;
            output += `- Online: ${navigator.onLine}\n\n`;

            // æ£€æŸ¥iframeæ”¯æŒ
            output += 'ğŸ”§ iframeæ”¯æŒ:\n';
            const iframe = document.createElement('iframe');
            output += `- iframeæ”¯æŒ: ${typeof iframe !== 'undefined'}\n`;
            output += `- srcDocæ”¯æŒ: ${'srcdoc' in iframe}\n\n`;

            // æ£€æŸ¥CSSæ”¯æŒ
            output += 'ğŸ¨ CSSæ”¯æŒ:\n';
            const testDiv = document.createElement('div');
            testDiv.style.display = 'none';
            document.body.appendChild(testDiv);
            const computedStyle = window.getComputedStyle(testDiv);
            output += `- CSSè®¡ç®—æ ·å¼æ”¯æŒ: ${typeof computedStyle !== 'undefined'}\n`;
            output += `- display:noneæ£€æµ‹: ${computedStyle.display === 'none'}\n`;
            document.body.removeChild(testDiv);

            result.textContent = output;
            container.style.display = 'block';
        }

        function checkIframeContent() {
            const iframes = document.querySelectorAll('iframe');
            const result = document.getElementById('diagnostic-output');
            const container = document.getElementById('diagnostic-result');

            let output = 'ğŸ” iframeå†…å®¹æ£€æŸ¥æŠ¥å‘Š\n';
            output += '=========================\n\n';

            if (iframes.length === 0) {
                output += 'âŒ æœªæ‰¾åˆ°iframeå…ƒç´ \n';
            } else {
                iframes.forEach((iframe, index) => {
                    output += `ğŸ“„ iframe ${index + 1}:\n`;
                    output += `- srcDocé•¿åº¦: ${iframe.srcdoc ? iframe.srcdoc.length : 'N/A'}\n`;
                    output += `- sandbox: ${iframe.sandbox || 'æ— '}\n`;

                    try {
                        const doc = iframe.contentDocument || iframe.contentWindow.document;
                        if (doc) {
                            const body = doc.body;
                            output += `- Bodyå­˜åœ¨: ${body ? 'æ˜¯' : 'å¦'}\n`;
                            if (body) {
                                output += `- Bodyå­èŠ‚ç‚¹æ•°: ${body.childNodes.length}\n`;
                                output += `- Bodyå†…å®¹é•¿åº¦: ${body.innerHTML.length}\n`;
                                const computedStyle = window.getComputedStyle(body);
                                output += `- Bodyæ˜¾ç¤ºçŠ¶æ€: ${computedStyle.display}\n`;
                                output += `- Bodyå¯è§æ€§: ${computedStyle.visibility}\n`;
                                output += `- Bodyé€æ˜åº¦: ${computedStyle.opacity}\n`;
                            }
                        }
                    } catch (e) {
                        output += `- è®¿é—®é”™è¯¯: ${e.message}\n`;
                    }
                    output += '\n';
                });
            }

            result.textContent = output;
            container.style.display = 'block';
        }

        function forceContentVisibility() {
            const iframes = document.querySelectorAll('iframe');

            iframes.forEach(iframe => {
                try {
                    const doc = iframe.contentDocument || iframe.contentWindow.document;
                    if (doc) {
                        const body = doc.body;
                        if (body) {
                            // å¼ºåˆ¶æ˜¾ç¤ºæ‰€æœ‰éšè—å…ƒç´ 
                            const hiddenElements = body.querySelectorAll('[style*="display: none"], [hidden], [style*="visibility: hidden"], [style*="opacity: 0"]');
                            hiddenElements.forEach(el => {
                                el.style.display = 'block';
                                el.style.visibility = 'visible';
                                el.style.opacity = '1';
                            });

                            // å¼ºåˆ¶æ˜¾ç¤ºbody
                            body.style.display = 'block';
                            body.style.visibility = 'visible';
                            body.style.opacity = '1';

                            alert('å·²å°è¯•å¼ºåˆ¶æ˜¾ç¤ºéšè—å†…å®¹ï¼Œè¯·æ£€æŸ¥æ˜¯å¦å¯è§');
                        }
                    }
                } catch (e) {
                    alert('å¼ºåˆ¶æ˜¾ç¤ºå¤±è´¥: ' + e.message);
                }
            });
        }
    </script>
</body>
</html>
