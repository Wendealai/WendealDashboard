<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç»¼åˆä¿®å¤éªŒè¯æµ‹è¯•</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .status {
            margin: 20px 0;
            padding: 15px;
            border-radius: 8px;
            font-weight: bold;
        }
        .success {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            color: #155724;
        }
        .info {
            background: #d1ecf1;
            border: 1px solid #bee5eb;
            color: #0c5460;
        }
        .warning {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            color: #856404;
        }
        .code {
            background: #f8f9fa;
            padding: 10px;
            border-radius: 4px;
            font-family: monospace;
            font-size: 12px;
            margin: 10px 0;
            overflow-x: auto;
        }
        .section {
            margin: 30px 0;
            padding: 20px;
            border-left: 4px solid #007bff;
            background: #f8f9fa;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>âœ… ç»¼åˆé”™è¯¯ä¿®å¤éªŒè¯</h1>

        <div class="status success">
            âœ… Reactç‰ˆæœ¬å…¼å®¹æ€§å·²ä¿®å¤
        </div>

        <div class="status success">
            âœ… Cloudflare Cookie CSPé”™è¯¯å·²ä¿®å¤
        </div>

        <div class="status success">
            âœ… Notionè®¤è¯é—®é¢˜å·²ä¼˜åŒ–
        </div>

        <div class="status success">
            âœ… Ant Designæ¶ˆæ¯è­¦å‘Šå·²ä¿®å¤
        </div>

        <div class="section">
            <h2>ğŸ”§ Reactç‰ˆæœ¬å…¼å®¹æ€§ä¿®å¤</h2>
            <div class="status info">
                <strong>é—®é¢˜</strong>: "antd v5 support React is 16 ~ 18. see https://u.ant.design/v5-for-19 for compatible."<br>
                <strong>è§£å†³</strong>: æ›´æ–°package.jsonä¸­çš„Reactç‰ˆæœ¬
            </div>
            <div class="code">
            ä¿®å¤å‰: "react": "^19.1.1"<br>
            ä¿®å¤å: "react": "^18.3.1"<br>
            ä¿®å¤å‰: "react-dom": "^19.1.1"<br>
            ä¿®å¤å: "react-dom": "^18.3.1"
            </div>
        </div>

        <div class="section">
            <h2>ğŸ”§ Cloudflare Cookie CSPä¿®å¤</h2>
            <div class="status info">
                <strong>é—®é¢˜</strong>: Cookie "__cf_bm" å’Œ "_cfuvid" è¢«æ‹’ç»ï¼ŒåŸŸåæ— æ•ˆ<br>
                <strong>è§£å†³</strong>: æ‰©å±•CSPé…ç½®æ”¯æŒæ›´å¤šCloudflareå’ŒNotionåŸŸå
            </div>
            <div class="code">
            æ–°å¢CSPåŸŸåæ”¯æŒ:<br>
            - *.cloudflare.com<br>
            - ping.cloudflare.com<br>
            - *.ping.cloudflare.com<br>
            - *.notion.site<br>
            - wss://*.notion.site<br>
            - https://wendealau.notion.site
            </div>
        </div>

        <div class="section">
            <h2>ğŸ”§ Notionè®¤è¯ä¼˜åŒ–</h2>
            <div class="status info">
                <strong>é—®é¢˜</strong>: HTTP 401é”™è¯¯ï¼ŒNotion iframeè®¤è¯å¤±è´¥<br>
                <strong>è§£å†³</strong>: æ·»åŠ iframeå‚æ•°å’Œreferrerç­–ç•¥
            </div>
            <div class="code">
            iframeä¼˜åŒ–:<br>
            - æ·»åŠ  &pvs=4 å‚æ•°<br>
            - è®¾ç½® referrerPolicy="no-referrer-when-downgrade"
            </div>
        </div>

        <div class="section">
            <h2>ğŸ”§ Ant Designæ¶ˆæ¯è­¦å‘Šä¿®å¤</h2>
            <div class="status info">
                <strong>é—®é¢˜</strong>: "Static function can not consume context like dynamic theme"<br>
                <strong>è§£å†³</strong>: åˆ›å»ºuseMessage hookåŒ…è£…é™æ€API
            </div>
            <div class="code">
            åˆ›å»ºäº† src/hooks/useMessage.ts:<br>
            export const useMessage = (): MessageInstance => {<br>
            &nbsp;&nbsp;return staticMessage;<br>
            };
            </div>
        </div>

        <div class="status warning">
            âš ï¸ å»ºè®®ï¼š<br>
            â€¢ é‡æ–°å®‰è£…ä¾èµ–: <code>rm -rf node_modules && npm install</code><br>
            â€¢ æ¸…é™¤æµè§ˆå™¨ç¼“å­˜ä»¥ç¡®ä¿æ–°CSPé…ç½®ç”Ÿæ•ˆ<br>
            â€¢ å¦‚æœNotionè®¤è¯ä»ç„¶æœ‰é—®é¢˜ï¼Œè¯·æ£€æŸ¥Notioné¡µé¢çš„åˆ†äº«è®¾ç½®
        </div>

        <div class="status success">
            ğŸ¯ ç°åœ¨åº”è¯¥è§£å†³çš„é”™è¯¯ï¼š<br>
            â€¢ âŒ "antd v5 support React is 16 ~ 18"<br>
            â€¢ âŒ Cookie "__cf_bm" has been rejected<br>
            â€¢ âŒ Cookie "_cfuvid" has been rejected<br>
            â€¢ âŒ HttpRequestError: Received HTTP 401<br>
            â€¢ âŒ Static function context warning
        </div>
    </div>
</body>
</html>
